!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/animations"),require("@angular/common"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@uat/bearbones",["exports","@angular/core","@angular/animations","@angular/common","rxjs","rxjs/operators"],t):t((e.uat=e.uat||{},e.uat.bearbones={}),e.ng.core,e.ng.animations,e.ng.common,e.rxjs,e.rxjs.operators)}(this,function(e,o,t,n,g,b){"use strict";var i=new o.InjectionToken("BB_ALT_PANEL_STATE_1_ANIMATION"),r=new o.InjectionToken("BB_ALT_PANEL_STATE_2_ANIMATION"),s=function(){function e(e,t,n,i,o){this.elRef=e,this.renderer=t,this.aBuilder=n,this.state1Animation=i,this.state2Animation=o,this.panelStateCache="init"}return Object.defineProperty(e.prototype,"panelState",{set:function(e){e!==this.panelStateCache&&("init"!==this.panelStateCache?"state2"===this.panelStateCache&&"state1"===e?this.transitionToState1():"state1"===this.panelStateCache&&"state2"===e?this.transitionToState2():this.clearCSSStateClasses():"state1"===e?this.renderer.addClass(this.elRef.nativeElement,this.css.state1):"state2"===e&&this.renderer.addClass(this.elRef.nativeElement,this.css.state2),this.panelStateCache=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.buildAnimations(),console.log("css: "+JSON.stringify(this.css)),console.log("states: "+this.css.state1+" & "+this.css.state2),this.renderer.addClass(this.elRef.nativeElement,this.css.panel),this.toggle("state1")},e.prototype.toggle=function(e){switch(console.log("toggling"),e=e||this.panelStateCache){case"init":this.panelState="state1";break;case"state1":this.panelState="state2";break;case"state2":this.panelState="state1"}},e.prototype.buildAnimations=function(){this.state1Player=this.aBuilder.build(this.state1Animation).create(this.elRef.nativeElement),this.state2Player=this.aBuilder.build(this.state2Animation).create(this.elRef.nativeElement)},e.prototype.transitionToState1=function(){this.renderer.removeClass(this.elRef.nativeElement,this.css.state2),this.renderer.addClass(this.elRef.nativeElement,this.css.state1),this.state2Player&&this.state2Player.reset(),this.state1Player.play()},e.prototype.transitionToState2=function(){this.renderer.removeClass(this.elRef.nativeElement,this.css.state1),this.renderer.addClass(this.elRef.nativeElement,this.css.state2),this.state1Player&&this.state1Player.reset(),this.state2Player.play()},e.prototype.clearCSSStateClasses=function(){this.renderer.removeClass(this.elRef.nativeElement,this.css.state1),this.renderer.removeClass(this.elRef.nativeElement,this.css.state2)},e.decorators=[{type:o.Component,args:[{selector:"[bb-alt-panel]",template:"<ng-content></ng-content>",styles:[""],animations:[],exportAs:"bbAltPanel"}]}],e.ctorParameters=function(){return[{type:o.ElementRef},{type:o.Renderer2},{type:t.AnimationBuilder},{type:undefined,decorators:[{type:o.Inject,args:[i]}]},{type:undefined,decorators:[{type:o.Inject,args:[r]}]}]},e.propDecorators={css:[{type:o.Input}]},e}(),a=function(){function e(e){this.rendererFactory=e}return e.prototype.getCSSClass=function(e,t){return t&&t[e]},e.prototype.createStateCSSMapper=function(t,n){var i=this,o=this.rendererFactory.createRenderer(t,null);return{remove:function(e){o.removeClass(t,i.getCSSClass(e,n))},add:function(e){o.addClass(t,i.getCSSClass(e,n))},removeAll:function(){Object.keys(n).forEach(function(e){return o.removeClass(t,n[e])})},destroy:function(){o.destroy(),o=null}}},e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[{type:o.RendererFactory2}]},e}(),l=function(){function e(e,t,n){this.builder=e,this.cssMapper=t,this.rendererFactory=n,this.onAnimationStart=function(e,t){return void 0===t&&(t=null),function(){t&&t.remove(e)}},this.onAnimationDone=function(e,t){return void 0===t&&(t=null),function(){t&&t.add(e)}}}return e.prototype.buildPlayers=function(o,r){var s=this;return Object.keys(r).reduce(function(e,i){return e[i]=Object.keys(r[i]).reduce(function(e,t){var n=s.builder.build(r[i][t]).create(o);return e[t]=n,e},{}),e},{})},e.prototype.getPlayer=function(e,t,n){return n&&n[e]&&n[e][t]},e.prototype.destroyAllPlayers=function(n){n&&Object.keys(n).forEach(function(t){Object.keys(n[t]).forEach(function(e){n[t][e].destroy()})})},e.prototype.createAnimationStateMachine=function(e,t){var i=this;void 0===t&&(t={});var o,r=this.buildPlayers(e,t),s="";return{init:function(e,t){void 0===t&&(t=null),s=e,t&&t.add(s)},next:function(e,t){if(void 0===t&&(t=null),s!==e){var n=i.getPlayer(s,e,r);o&&o.reset(),n?((o=n).onStart(i.onAnimationStart(s,t)),o.onDone(i.onAnimationDone(e,t)),o.play()):t&&(t.remove(s),t.add(e)),s=e}return s},destroy:function(){i.destroyAllPlayers(r),r=o=s=o=null}}},e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[{type:t.AnimationBuilder},{type:a},{type:o.RendererFactory2}]},e}(),c=function(){function e(e,t,n,i){this.elRef=e,this.renderer=t,this.bbBuilder=n,this.cssMapperService=i}return Object.defineProperty(e.prototype,"css",{set:function(e){this.mapCache!=e&&(this.mapCache=e,this.cssMapper&&(this.cssMapper.removeAll(),this.cssMapper.destroy()),this.cssMapper=this.cssMapperService.createStateCSSMapper(this.elRef.nativeElement,this.mapCache))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{set:function(e){this.stateCache!=e&&(this.stateCache=e,this.animationsStateMachine&&this.animationsStateMachine.next(this.stateCache,this.cssMapper))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{set:function(e){this.transitionsCache!=e&&(this.transitionsCache=e,this.animationsStateMachine&&(this.cssMapper&&this.cssMapper.removeAll(),this.animationsStateMachine.destroy()),this.animationsStateMachine=this.bbBuilder.createAnimationStateMachine(this.elRef.nativeElement,this.transitionsCache))},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.animationsStateMachine&&this.animationsStateMachine.init(this.stateCache,this.cssMapper)},e.decorators=[{type:o.Directive,args:[{selector:"[bbAlternatingPanel]"}]}],e.ctorParameters=function(){return[{type:o.ElementRef},{type:o.Renderer2},{type:l},{type:a}]},e.propDecorators={css:[{type:o.Input}],state:[{type:o.Input}],transitions:[{type:o.Input}]},e}(),d=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[l,a]}},e.decorators=[{type:o.NgModule,args:[{imports:[n.CommonModule],declarations:[],providers:[]}]}],e}(),p=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e.decorators=[{type:o.NgModule,args:[{imports:[n.CommonModule,d.forRoot()],declarations:[s,c],exports:[s,c]}]}],e}(),u={CLOSE:"close",SLIDE_LEFT:"slide-left",SLIDE_RIGHT:"slide-right",SLIDE_UP:"slide-up",SLIDE_DOWN:"slide-down"},h="left",m="right",f="up",v="down";function y(){return t.trigger("verticalTrigger",[t.state(u.CLOSE,t.style({transform:"scaleY(0)"})),t.state(u.SLIDE_DOWN,t.style({transform:"scaleY(1)"})),t.state(u.SLIDE_UP,t.style({transform:"scaleY(1)"})),t.transition(u.CLOSE+" => "+u.SLIDE_DOWN,[t.style({transform:"scaleY(0)","transform-origin":"top"}),t.animate("150ms ease-in",t.style({transform:"scaleY(1)","transform-origin":"top"}))]),t.transition(u.SLIDE_DOWN+" => "+u.CLOSE,[t.style({transform:"scaleY(1)","transform-origin":"top"}),t.animate("150ms ease-out",t.style({transform:"scaleY(0)","transform-origin":"top"}))]),t.transition(u.CLOSE+" => "+u.SLIDE_UP,[t.style({transform:"scaleY(0)","transform-origin":"bottom"}),t.animate("150ms ease-in",t.style({transform:"scaleY(1)","transform-origin":"bottom"}))]),t.transition(u.SLIDE_UP+" => "+u.CLOSE,[t.style({transform:"scaleY(1)","transform-origin":"bottom"}),t.animate("150ms ease-out",t.style({transform:"scaleY(0)","transform-origin":"bottom"}))])])}function C(){return t.trigger("horizontalTrigger",[t.state(u.CLOSE,t.style({transform:"scaleX(0)"})),t.state(u.SLIDE_RIGHT,t.style({transform:"scaleX(1)"})),t.state(u.SLIDE_LEFT,t.style({transform:"scaleX(1)"})),t.transition(u.CLOSE+" => "+u.SLIDE_RIGHT,[t.style({transform:"scaleX(0)","transform-origin":"left"}),t.animate("150ms ease-in",t.style({transform:"scaleX(1)","transform-origin":"left"}))]),t.transition(u.SLIDE_RIGHT+" => "+u.CLOSE,[t.style({transform:"scaleX(1)","transform-origin":"left"}),t.animate("150ms ease-out",t.style({transform:"scaleX(0)","transform-origin":"left"}))]),t.transition(u.CLOSE+" => "+u.SLIDE_LEFT,[t.style({transform:"scaleX(0)","transform-origin":"right"}),t.animate("150ms ease-in",t.style({transform:"scaleX(1)","transform-origin":"right"}))]),t.transition(u.SLIDE_LEFT+" => "+u.CLOSE,[t.style({transform:"scaleX(1)","transform-origin":"right"}),t.animate("150ms ease-out",t.style({transform:"scaleX(0)","transform-origin":"right"}))])])}var S=function(){function e(e){this.cdRef=e,this.slideDirection=v,this.mouseEnterPanel=new o.EventEmitter,this.mouseLeavePanel=new o.EventEmitter,this.mouseOverPanel=new o.EventEmitter,this.clickPanel=new o.EventEmitter,this.pinned=!1,this.horizontalState=u.CLOSE,this.verticalState=u.CLOSE}return Object.defineProperty(e.prototype,"isShowing",{get:function(){return this.horizontalState!==u.CLOSE||this.verticalState!==u.CLOSE},enumerable:!0,configurable:!0}),e.prototype.show=function(){switch(this.slideDirection){case h:this.horizontalState=u.SLIDE_LEFT;break;case m:this.horizontalState=u.SLIDE_RIGHT;break;case f:this.verticalState=u.SLIDE_UP;break;case v:this.verticalState=u.SLIDE_DOWN;break;default:this.horizontalState=u.CLOSE,this.verticalState=u.CLOSE}this.cdRef.markForCheck()},e.prototype.hide=function(){this.horizontalState=u.CLOSE,this.verticalState=u.CLOSE,this.cdRef.markForCheck()},e.prototype.toggle=function(){this.isShowing?this.hide():this.show()},e.decorators=[{type:o.Component,args:[{selector:"div[bb-sliding-panel]",template:"<ng-content></ng-content>",styles:[""],host:{"[@horizontalTrigger]":"horizontalState","[@verticalTrigger]":"verticalState","[class.open]":"isShowing","[class.closed]":"!isShowing","[class.pinned]":"pinned","(mouseenter)":"mouseEnterPanel.emit($event)","(mouseleave)":"mouseLeavePanel.emit($event)","(mouseover)":"mouseOverPanel.emit($event)","(click)":"clickPanel.emit($event)","[class.bb-sliding-panel]":"'true'"},animations:[y(),C()],exportAs:"bbSlidingPanel",changeDetection:o.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:o.ChangeDetectorRef}]},e.propDecorators={slideDirection:[{type:o.Input}],mouseEnterPanel:[{type:o.Output}],mouseLeavePanel:[{type:o.Output}],mouseOverPanel:[{type:o.Output}],clickPanel:[{type:o.Output}]},e}(),E=function(){function e(e){var t=this;this.element=e,this.toggleOnClick=!1,this.showOnHover=!1,this.closeOnClickOutside=!1,this.previousPinnedState=!1,this.showPanel=function(){return t.onNextState({hover:!1,pin:!0})},this.hidePanel=function(){return t.onNextState({hover:!1,pin:!1})},this.onNextState=function(e){e.hover?t.previousPinnedState&&!e.pin?t.panel.hide():t.panel.show():!t.previousPinnedState&&e.pin?t.panel.show():e.pin||t.panel.hide(),t.previousPinnedState=e.pin,t.panel.pinned=e.pin}}return e.prototype.ngOnInit=function(){var t=this;if(!this.panel)throw new Error('No SlidingPanel component supplied to the bb-sliding-panel-toggle directive ([bb-sliding-panel-toggle]="$PanelVariable").');this.showHideSubscription&&!this.showHideSubscription.closed&&this.showHideSubscription.unsubscribe();var e=g.fromEvent(document,"click"),n=g.fromEvent(this.element.nativeElement,"click"),i=g.fromEvent(this.element.nativeElement,"mouseenter"),o=g.fromEvent(this.element.nativeElement,"mouseleave"),r=this.panel.mouseEnterPanel.asObservable(),s=this.panel.mouseLeavePanel.asObservable(),a=this.panel.clickPanel.asObservable(),l=o.pipe(b.merge(s),b.filter(function(e){return t.showOnHover}),b.map(function(e){return!1})),c=i.pipe(b.merge(r),b.filter(function(e){return t.showOnHover}),b.map(function(e){return!0})),d=n.pipe(b.map(function(e){return event.stopPropagation(),!t.previousPinnedState})),p=a.pipe(b.map(function(e){return event.stopPropagation(),t.previousPinnedState})),u=e.pipe(b.filter(function(e){return t.closeOnClickOutside}),b.map(function(e){return!1})),h=g.of(this.showOnInit).pipe(b.merge(d,p,u)),m=g.of(!1).pipe(b.merge(l,c),b.debounceTime(50));this.showHideSubscription=m.pipe(b.combineLatest(h),b.map(function(e){return{hover:e[0],pin:e[1]}})).subscribe(this.onNextState)},e.prototype.ngOnDestroy=function(){this.showHideSubscription&&!this.showHideSubscription.closed&&this.showHideSubscription.unsubscribe()},e.decorators=[{type:o.Directive,args:[{selector:"[bb-sliding-panel-toggle]",host:{"[class.open]":"panel.isShowing","[class.closed]":"!panel.isShowing","[class.pinned]":"panel.pinned","[class.bb-sliding-panel-toggle]":"'true'"},exportAs:"bbSlidingPanelToggle"}]}],e.ctorParameters=function(){return[{type:o.ElementRef}]},e.propDecorators={panel:[{type:o.Input,args:["bb-sliding-panel-toggle"]}],toggleOnClick:[{type:o.Input}],showOnHover:[{type:o.Input}],closeOnClickOutside:[{type:o.Input}],showOnInit:[{type:o.Input}]},e}(),I=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e.decorators=[{type:o.NgModule,args:[{imports:[n.CommonModule],declarations:[S,E],exports:[S,E]}]}],e}(),w=function(){function e(){this.applyHostClass=!0,this.showOnHover=!1,this.toggleOnClick=!0,this.closeOnClickOutside=!0}return Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.panel.isShowing},enumerable:!0,configurable:!0}),e.decorators=[{type:o.Component,args:[{selector:"div[bb-dropdown-menu]",template:'<div [bb-sliding-panel-toggle]="panel" \n     [toggleOnClick]="toggleOnClick"\n     [showOnHover]="showOnHover"\n     [closeOnClickOutside]="closeOnClickOutside">\n    <ng-content select="[bb-menu-toggle]"></ng-content>\n</div>\n<div class="dropdown-container">\n  <div bb-sliding-panel \n    #panel="bbSlidingPanel"\n    slideDirection="down">\n    <ng-content select="[bb-menu-item]"></ng-content>\n  </div>\n</div>',styles:["div.dropdown-container{position:relative}/deep/ .dropdown-container>div.bb-sliding-panel{position:absolute;top:0}.dropdown-container div.bb-sliding-panel{display:flex;flex:1;flex-direction:column}"],exportAs:"bbDropdownMenu"}]}],e.ctorParameters=function(){return[]},e.propDecorators={applyHostClass:[{type:o.HostBinding,args:["class.bb-dropdown-menu"]}],showOnHover:[{type:o.Input}],toggleOnClick:[{type:o.Input}],closeOnClickOutside:[{type:o.Input}],panel:[{type:o.ViewChild,args:["panel"]}]},e}(),O=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e.decorators=[{type:o.NgModule,args:[{imports:[n.CommonModule,I],declarations:[w],exports:[w]}]}],e}(),D=function(){function e(){this.applyHostClass=!0,this.showOnMouseOver=!0,this.pinOnClick=!0,this.closeOnClickOutside=!0,this.slideDirection="right"}return Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.panel.isShowing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slideLeft",{get:function(){return"left"===this.slideDirection},enumerable:!0,configurable:!0}),e.decorators=[{type:o.Component,args:[{selector:"div[bb-slideout-menu]",template:'<div class="slide-container">\n  <div [bb-sliding-panel-toggle]="panel" \n    [toggleOnClick]="pinOnClick"\n    [showOnHover]="showOnMouseOver"\n    [closeOnClickOutside]="closeOnClickOutside">\n    <ng-content select="[bb-menu-toggle]"></ng-content>\n  </div>\n  <div class="slide-position">\n    <div class="slide-anchor">\n      <div bb-sliding-panel \n        #panel="bbSlidingPanel"\n        [slideDirection]="slideDirection">\n          <ng-content select="[bb-menu-item]"></ng-content>\n      </div>\n    </div>\n  </div>\n</div>',styles:["div.slide-container{position:relative}.slide-container>div.slide-position{position:absolute;top:0}/deep/ .slide-left>div.slide-container{background-color:red}/deep/ .slide-left div.slide-position{left:0}/deep/ .slide-right div.slide-position{right:0}.slide-container>>div.slide-anchor{position:relative}/deep/ .slide-anchor>div.bb-sliding-panel{position:absolute;display:flex;flex-direction:row;flex:1}/deep/ .slide-left div.bb-sliding-panel{right:0}/deep/ .slide-right div.bb-sliding-panel{left:0}"],host:{"[class.slide-left]":"slideLeft","[class.slide-right]":"!slideLeft"}}]}],e.ctorParameters=function(){return[]},e.propDecorators={applyHostClass:[{type:o.HostBinding,args:["class.bb-slideout-menu"]}],showOnMouseOver:[{type:o.Input}],pinOnClick:[{type:o.Input}],closeOnClickOutside:[{type:o.Input}],slideDirection:[{type:o.Input}],panel:[{type:o.ViewChild,args:["panel"]}]},e}(),x=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e.decorators=[{type:o.NgModule,args:[{imports:[n.CommonModule,I],declarations:[D],exports:[D]}]}],e}(),R=new o.InjectionToken("DdIService"),P=function(){function e(e,t,n){this._diServ=e,this.ele=t,this.chDetRef=n,this.applyHostClass=!0,this.setTextOnChoice=!0,this.placeholderText="",this.inputValueChangeDelayms=400,this.autoSelectionMode="none",this.autoSelectedIndex=-1,this.selectedIndex=-1,this.listItemChosen=new o.EventEmitter,this.outsideClick=new o.EventEmitter,this.insideClick=new o.EventEmitter,this.clickedInside=new g.BehaviorSubject(!1),this.wasInsideClicked=!1,this.wasFocused=!1,this.numItems=0,this.diServ=e}return Object.defineProperty(e.prototype,"hasItems",{get:function(){return 0<this.numItems},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.panel.isShowing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputElement",{get:function(){return this.inputElementRef.nativeElement},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var t=this;this.maxItems&&this.diServ.setMaxItems(this.maxItems),this.inputSub=g.fromEvent(this.inputElement,"keyup").pipe(b.map(function(e){return e.target.value}),b.debounceTime(this.inputValueChangeDelayms),b.distinctUntilChanged()).subscribe(function(e){t.diServ.setSearchText(e)},function(e){return console.log(e)},function(){}),this.itemsSub=this.diServ.items$.pipe(b.map(function(e){return e?e.length:-1})).subscribe(function(e){t.numItems=e,t.hasItems?t.panel.show():t.panel.hide(),t.chDetRef.markForCheck(),t.chDetRef.detectChanges()},function(e){return console.log(e)},function(){})},e.prototype.ngOnDestroy=function(){this.inputSub.unsubscribe(),this.itemsSub.unsubscribe(),this.diServ.clearItems()},e.prototype.onNewItemContainers=function(e){this.clearAutoSelection(),this.clearSelection(),this.dynamicContainers=e,this.dynamicContainers&&0<this.dynamicContainers.length&&this.autoSelectItem()},e.prototype.chooseCurrentItem=function(){var e;0<=this.selectedIndex?e=this.getCurrentItem(this.selectedIndex):0<=this.autoSelectedIndex&&(e=this.getCurrentItem(this.autoSelectedIndex)),e&&(this.setTextOnChoice&&(this.inputElement.value=e.matchText),this.listItemChosen.emit(e),this.clearSelection())},e.prototype.getCurrentItem=function(e){return{component:this.dynamicContainers[e].currentCompRef.instance,index:e,matchText:this.list.dynamicComponentsData[e].matchText}},e.prototype.autoSelectItem=function(){var n=this,e=-1;switch(this.autoSelectionMode){case"none":break;case"lazy":this.dynamicContainers&&(e=0);break;case"exact":if(this.dynamicContainers){var i=-1;this.list.dynamicComponentsData.find(function(e,t){if(e.matchText.toLowerCase()===n.inputElement.value.toLowerCase())return i=t,!0}),0<=i&&(e=i)}break;case"partial":if(this.dynamicContainers){var o=-1;this.list.dynamicComponentsData.find(function(e,t){if(e.matchText.toLowerCase().substr(0,n.inputElement.value.length)===n.inputElement.value.toLowerCase())return o=t,!0}),0<=o&&(e=o)}break;case"only":this.dynamicContainers&&1===this.dynamicContainers.length&&(e=0)}e!=this.autoSelectedIndex&&(this.clearAutoSelection(),0<=e&&this.list.changeAutoSelection(e,!0),this.autoSelectedIndex=e)},e.prototype.clearAutoSelection=function(){0<=this.autoSelectedIndex&&(this.list.changeAutoSelection(this.autoSelectedIndex,!1),this.autoSelectedIndex=-1)},e.prototype.selectPreviousListItem=function(e){this.getNextSelection(-1)},e.prototype.selectNextListItem=function(e){this.getNextSelection(1)},e.prototype.getNextSelection=function(e){if(this.dynamicContainers&&0<this.dynamicContainers.length){this.list.changeSelection(this.selectedIndex,!1),this.selectedIndex+=e,this.selectedIndex<0?this.selectedIndex=this.dynamicContainers.length-1:this.selectedIndex>=this.dynamicContainers.length&&(this.selectedIndex=0),this.list.changeSelection(this.selectedIndex,!0);var t=this.list.listElements[this.selectedIndex],n=this.panelElementRef.nativeElement,i=this.elementOffsetFromView(t,n);i.inView||(n.scrollTop+=i.scrollBy)}},e.prototype.clearSelection=function(){0<=this.selectedIndex&&(this.list.changeSelection(this.selectedIndex,!1),this.selectedIndex=-1)},e.prototype.elementOffsetFromView=function(e,t){var n=e.getBoundingClientRect(),i=t.getBoundingClientRect(),o=n.top>=i.top,r=n.bottom<=i.bottom,s={inView:o&&r,scrollBy:0};return r?o||(s.scrollBy=-(i.top-n.top)):s.scrollBy=n.bottom-i.bottom,s},e.prototype.onKeyDown=function(e){switch(e.keyCode){case k.UPARROW:this.clearAutoSelection(),this.selectPreviousListItem(e),e.preventDefault();break;case k.DOWNARROW:this.clearAutoSelection(),this.selectNextListItem(e),e.preventDefault();break;case k.ENTER:this.chooseCurrentItem(),e.preventDefault()}},e.prototype.onOutsideClick=function(e){var t=this;this.wasInsideClicked||(this.wasFocused=!1,setTimeout(function(e){t.wasFocused||(t.panel.hide(),t.chDetRef.markForCheck(),t.chDetRef.detectChanges())},150)),this.wasInsideClicked=!1},e.prototype.onInsideClick=function(e){this.wasInsideClicked=!0,this.wasFocused=!0},e.prototype.onHostFocusIn=function(e){this.hasItems&&(this.panel.show(),this.chDetRef.markForCheck(),this.chDetRef.detectChanges()),this.wasFocused=!0},e.prototype.onHostFocusOut=function(e){var t=this;this.wasFocused=!1,setTimeout(function(e){t.wasFocused||(t.panel.hide(),t.chDetRef.markForCheck())},150)},e.prototype.onListItemMouseOver=function(e){this.clearAutoSelection(),this.clearSelection(),this.selectedIndex=e.index,this.list.changeSelection(this.selectedIndex,!0)},e.prototype.onListItemClicked=function(e){this.selectedIndex=e.index,this.list.changeSelection(this.selectedIndex,!0),this.chooseCurrentItem()},e.decorators=[{type:o.Component,args:[{selector:"div[bb-dropdown-input]",template:'<div class="dropdown-anchor">\n  <input #dropdownInput\n\t\t (keydown)="onKeyDown($event)"\n\t\t [attr.placeholder]="placeholderText"/>\n  \t<div bb-sliding-panel\n\t     class="results" \n\t\t slideDirection="down"\n\t\t #panel="bbSlidingPanel">\n\t\t <ul bb-dropdown-input-items-list\n\t\t \t#dropdownList\n\t\t    [dynamicComponentsData]="diServ.items$ | async"\n\t\t\t(listItemMouseOver)="onListItemMouseOver($event)"\n\t\t\t(listItemClick)="onListItemClicked($event)"\n\t\t\t(newContainers)="onNewItemContainers($event)">\n\t\t </ul>\n  \t</div>\t\n</div>\n',styles:["div.dropdown-anchor{position:relative}.dropdown-anchor>div.bb-sliding-panel{position:absolute}.dropdown-anchor>.bb-sliding-panel ul.bb-dropdown-input-items-list{display:flex;flex:1;flex-direction:column;padding-left:0;list-style:none}"],host:{"(focusout)":"onHostFocusOut($event)","(focusin)":"onHostFocusIn($event)"},exportAs:"bbDropdownInput",changeDetection:o.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:o.Inject,args:[o.forwardRef(function(){return R})]}]},{type:o.ElementRef},{type:o.ChangeDetectorRef}]},e.propDecorators={applyHostClass:[{type:o.HostBinding,args:["class.bb-dropdown-input"]}],maxItems:[{type:o.Input}],setTextOnChoice:[{type:o.Input}],placeholderText:[{type:o.Input}],inputValueChangeDelayms:[{type:o.Input}],autoSelectionMode:[{type:o.Input}],listItemChosen:[{type:o.Output}],inputElementRef:[{type:o.ViewChild,args:["dropdownInput",{read:o.ElementRef}]}],panelElementRef:[{type:o.ViewChild,args:["panel",{read:o.ElementRef}]}],panel:[{type:o.ViewChild,args:["panel"]}],list:[{type:o.ViewChild,args:["dropdownList"]}],onOutsideClick:[{type:o.HostListener,args:["document:click",["$event"]]}],onInsideClick:[{type:o.HostListener,args:["click",["$event"]]}]},e}(),k={ENTER:13,UPARROW:38,DOWNARROW:40};k[k.ENTER]="ENTER",k[k.UPARROW]="UPARROW",k[k.DOWNARROW]="DOWNARROW";var M=function(){function e(){this.canShow=!1}return e.prototype.onFocus=function(e){this.canShow&&(console.log("showing"),this.panel.show())},e.prototype.onBlur=function(e){this.panel.hide()},e.decorators=[{type:o.Directive,args:[{selector:"[bb-sliding-panel-focus]",host:{"(focus)":"onFocus($event)","(blur)":"onBlur($event)"}}]}],e.ctorParameters=function(){return[]},e.propDecorators={panel:[{type:o.Input,args:["bb-sliding-panel-focus"]}],canShow:[{type:o.Input}]},e}(),B=function(){function e(e,t){this.vcRef=e,this.resolver=t,this.dccClasses={}}return Object.defineProperty(e.prototype,"componentData",{set:function(e){this.createComponent(e)},enumerable:!0,configurable:!0}),e.prototype.createComponent=function(t){if(t){this.currentCompRef&&this.currentCompRef.destroy();var e=[];t.providers&&(e=Object.keys(t.providers).map(function(e){return{provide:e,useValue:t.providers[e]}}));var n=o.ReflectiveInjector.fromResolvedProviders(o.ReflectiveInjector.resolve(e),this.vcRef.parentInjector),i=this.resolver.resolveComponentFactory(t.component).create(n);this.vcRef.insert(i.hostView),t.inputs&&Object.keys(t.inputs).map(function(e){i.instance[e]=t.inputs[e]}),i.changeDetectorRef.markForCheck(),this.currentCompRef=i}},e.decorators=[{type:o.Directive,args:[{selector:"[bb-dynamic-component]",exportAs:"dynamicComp"}]}],e.ctorParameters=function(){return[{type:o.ViewContainerRef},{type:o.ComponentFactoryResolver}]},e.propDecorators={componentData:[{type:o.Input,args:["bb-dynamic-component"]}]},e}(),L=function(){function e(){}return e.decorators=[{type:o.NgModule,args:[{imports:[n.CommonModule],declarations:[B],exports:[B]}]}],e}(),A=function(){function e(e){this.chDetRef=e,this.applyHostClass=!0,this.dynamicComponentsData=[],this.newContainers=new o.EventEmitter,this.listItemMouseOver=new o.EventEmitter,this.listItemClick=new o.EventEmitter,this.itemAutoSelected=[],this.itemSelected=[]}return Object.defineProperty(e.prototype,"listElements",{get:function(){return this.listItems.toArray().map(function(e){return e.element.nativeElement})},enumerable:!0,configurable:!0}),e.prototype.changeSelection=function(e,t){this.itemSelected[e]=t,this.chDetRef.markForCheck(),this.chDetRef.detectChanges()},e.prototype.changeAutoSelection=function(e,t){this.itemAutoSelected[e]=t,this.chDetRef.markForCheck(),this.chDetRef.detectChanges()},e.prototype.ngAfterViewInit=function(){var t=this;this.newContainers.emit(this.dynamicComponentContainers.toArray()),this.newContainersSub&&this.newContainersSub.unsubscribe(),this.newContainersSub=this.dynamicComponentContainers.changes.subscribe(function(e){t.itemAutoSelected=[],t.itemSelected=[],t.newContainers.emit(e.toArray())},function(e){return console.log(e)},function(){t.newContainersSub.unsubscribe()})},e.prototype.ngOnDestroy=function(){this.newContainersSub&&this.newContainersSub.unsubscribe()},e.prototype.onListItemClick=function(e,t){this.listItemClick.emit({event:e,index:t})},e.prototype.onListItemMouseOver=function(e,t){this.listItemMouseOver.emit({event:e,index:t})},e.decorators=[{type:o.Component,args:[{selector:"ul[bb-dropdown-input-items-list]",template:'<li *ngFor="let compData of dynamicComponentsData; let i = index;"\n    #listItem\n    class="item"\n    [class.auto-selected]="itemAutoSelected[i]"\n    [class.selected]="itemSelected[i]"\n    (click)="onListItemClick($event, i)"\n    (mouseover)="onListItemMouseOver($event, i)">\n    <ng-template #container="dynamicComp" [bb-dynamic-component]="compData"></ng-template>\n</li>\n\n\n',styles:[""],changeDetection:o.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:o.ChangeDetectorRef}]},e.propDecorators={applyHostClass:[{type:o.HostBinding,args:["class.bb-dropdown-input-items-list"]}],dynamicComponentsData:[{type:o.Input}],dynamicComponentContainers:[{type:o.ViewChildren,args:["container"]}],listItems:[{type:o.ViewChildren,args:["listItem",{read:o.ViewContainerRef}]}],newContainers:[{type:o.Output}],listItemMouseOver:[{type:o.Output}],listItemClick:[{type:o.Output}]},e}(),T=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e.decorators=[{type:o.NgModule,args:[{imports:[n.CommonModule,I,L],declarations:[P,M,A],exports:[P]}]}],e}(),H=function(){function e(e){this._viewContainer=e}return e.decorators=[{type:o.Directive,args:[{selector:"[bb-menu-item]"}]}],e.ctorParameters=function(){return[{type:o.ViewContainerRef}]},e}(),N=function(){function e(){}return e.decorators=[{type:o.Directive,args:[{selector:"[bb-menu-item-right]"}]}],e.ctorParameters=function(){return[]},e}(),j=function(){function e(){this.applyHostClass=!0,this.showOnHover=!1,this.closeOnClickOutside=!0,this.toggleOnClick=!0,this._cocoInit=!1,this.expanded=!1}return Object.defineProperty(e.prototype,"itemElementRefs",{get:function(){return this.items.toArray().concat(this.rightItems.toArray())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.panel.isShowing},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._cocoInit=this.closeOnClickOutside,this.expanded=window.matchMedia(this.expandOnQuery).matches,this.expanded&&(this.closeOnClickOutside=!1)},e.prototype.ngAfterViewInit=function(){var t=this;this.expandedSubscription=g.fromEvent(window,"resize").pipe(b.map(function(e){return window.matchMedia(t.expandOnQuery).matches}),b.distinctUntilChanged()).subscribe(function(e){t.expanded=e,t.togglePanelState()})},e.prototype.ngOnDestroy=function(){this.expandedSubscription&&!this.expandedSubscription.closed&&this.expandedSubscription.unsubscribe()},e.prototype.togglePanelState=function(){this.expanded?(this.closeOnClickOutside=!1,this.toggle.showPanel()):(this.closeOnClickOutside=this._cocoInit,this.toggle.hidePanel())},e.decorators=[{type:o.Component,args:[{selector:"div[bb-hamburger-menu], nav[bb-hamburger-menu]",template:'<div class="menu-container">\n  <ng-content select="[bb-fixed-content]"></ng-content>\n\n  <div bb-sliding-panel\n      class="menu-items-container"\n      slideDirection="down"\n      #panel="bbSlidingPanel">\n    <div class="menu-items">\n      <ng-content select="[bb-menu-item]"></ng-content>\n    </div>\n    <div class="menu-items-right">\n      <ng-content select="[bb-menu-item-right]"></ng-content>\n    </div>\n  </div>\n  \n  <div [bb-sliding-panel-toggle]="panel"\n       #toggle="bbSlidingPanelToggle" \n       [toggleOnClick]="toggleOnClick"\n       [showOnHover]="showOnHover"\n       [showOnInit]="expanded"\n       [closeOnClickOutside]="closeOnClickOutside">\n      <ng-content select="[bb-menu-toggle]"></ng-content>\n  </div>\n</div>',styles:["div.menu-container{display:flex;flex:1;flex-direction:row;align-items:center;position:relative;min-height:inherit;max-height:inherit;height:inherit}:host.bb-hamburger-menu.expanded div.menu-items-container{display:flex;flex-direction:row;flex:1;justify-content:space-between}:host.bb-hamburger-menu.expanded div.menu-items,:host.bb-hamburger-menu.expanded div.menu-items-right{display:flex;flex-direction:row;flex-grow:1;flex-shrink:1;flex-basis:auto}:host.bb-hamburger-menu.expanded div.menu-items-right{justify-content:flex-end}:host.bb-hamburger-menu.collapsed div.menu-items-container{display:flex;flex-direction:column;flex:1}:host.bb-hamburger-menu.collapsed div.menu-items,:host.bb-hamburger-menu.collapsed div.menu-items-right{display:flex;flex-direction:column;flex-grow:1;flex-shrink:1;flex-basis:auto}:host.bb-hamburger-menu.expanded div.bb-sliding-panel-toggle{visibility:hidden;width:0}div.bb-sliding-panel-toggle{display:inline-block}:host.collapsed div.menu-items-container{position:absolute;top:100%;left:0;right:0}:host.collapsed div.menu-container{justify-content:space-between}div.menu-items{flex-grow:1;flex-shrink:1;flex-basis:auto}"],host:{"[class.expanded]":"expanded","[class.collapsed]":"!expanded"},exportAs:"bbHamburgerMenu"}]}],e.ctorParameters=function(){return[]},e.propDecorators={applyHostClass:[{type:o.HostBinding,args:["class.bb-hamburger-menu"]}],panel:[{type:o.ViewChild,args:["panel"]}],toggle:[{type:o.ViewChild,args:["toggle"]}],items:[{type:o.ContentChildren,args:[H,{read:o.ElementRef,descendants:!0}]}],rightItems:[{type:o.ContentChildren,args:[N,{read:o.ElementRef,descendants:!0}]}],expandOnQuery:[{type:o.Input}],showOnHover:[{type:o.Input}],closeOnClickOutside:[{type:o.Input}]},e}(),V=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e.decorators=[{type:o.NgModule,args:[{imports:[n.CommonModule],declarations:[H],exports:[H]}]}],e}(),_=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e.decorators=[{type:o.NgModule,args:[{imports:[n.CommonModule,I,V],declarations:[j,N],exports:[j,N]}]}],e}(),z=function(){function e(e,t,n){this.renderer=e,this.hostElementRef=t,this.zone=n,this.applyHostClass=!0,this.toggleOnClick=!0,this.showOnHover=!1,this.closeOnClickOutside=!0,this.hasOverflow=!1}return Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.panel.isShowing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemElements",{get:function(){var t=this;return this.items.toArray().filter(function(e){return e.nativeElement!==t.hostElementRef.nativeElement})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostDiv",{get:function(){return this.hostElementRef.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayedDiv",{get:function(){return this.displayedItems.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collapsedDiv",{get:function(){return this.collapsedItems.nativeElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"toggleDiv",{get:function(){return this.toggle.nativeElement},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){this.calculateOverflow()},e.prototype.calculateOverflow=function(){var e=this;if(this.renderer.projectNodes(this.displayedDiv,this.itemElements.map(function(e){return e.nativeElement})),this.areDisplayedItemsToWide()){this.zone.run(function(){setTimeout(function(){e.hasOverflow=!0})});for(var t=this.hostDiv.offsetLeft+this.hostDiv.offsetWidth-this.toggleDiv.offsetWidth,n=Number.POSITIVE_INFINITY,i=0;i<this.itemElements.length;i++){var o=this.itemElements[i].nativeElement;if(0<o.offsetLeft+this.hostDiv.offsetLeft+o.offsetWidth-t){n=i;break}}0==n?this.renderer.projectNodes(this.collapsedDiv,this.itemElements.map(function(e){return e.nativeElement})):this.renderer.projectNodes(this.collapsedDiv,this.itemElements.filter(function(e,t){return n<=t}).map(function(e){return e.nativeElement}))}else this.zone.run(function(){setTimeout(function(){e.hasOverflow=!1})})},e.prototype.areDisplayedItemsToWide=function(){return this.displayedDiv.getBoundingClientRect().width>this.hostDiv.getBoundingClientRect().width},e.prototype.onWindowResize=function(){this.calculateOverflow()},e.decorators=[{type:o.Component,args:[{selector:"div[bb-collapsing-menu]",template:'<div class="menu-container">\n  <div #displayedItems class="displayed">\n  </div>\n\n  <div  #toggle\n        [class.hidden]="!hasOverflow" \n        [bb-sliding-panel-toggle]="panel"\n        [toggleOnClick]="toggleOnClick"\n        [closeOnClickOutside]="closeOnClickOutside"\n        [showOnHover]="showOnHover">\n    \n    <ng-content select="[bb-menu-toggle]"></ng-content>\n  </div>\n  <div bb-sliding-panel \n       #panel="bbSlidingPanel"\n       #collapsedItems \n       slideDirection="down"\n       #panel="bbSlidingPanel">\n  </div>\n</div>',styles:["div.displayed{flex-grow:1;flex-direction:row;flex-shrink:0;display:flex}div.menu-container{position:relative;height:inherit;flex-direction:row;display:flex;align-items:center;flex-shrink:0;flex-grow:1}div.bb-sliding-panel{display:flex;flex-direction:column;flex-grow:1;position:absolute;right:0;top:100%}div.hidden{visibility:hidden}"],host:{"(window:resize)":"onWindowResize()"},exportAs:"bbCollapsingMenu"}]}],e.ctorParameters=function(){return[{type:o.Renderer},{type:o.ElementRef},{type:o.NgZone}]},e.propDecorators={applyHostClass:[{type:o.HostBinding,args:["class.bb-collapsing-menu"]}],toggleOnClick:[{type:o.Input}],showOnHover:[{type:o.Input}],closeOnClickOutside:[{type:o.Input}],items:[{type:o.ContentChildren,args:[H,{read:o.ElementRef,descendants:!1}]}],displayedItems:[{type:o.ViewChild,args:["displayedItems",{read:o.ElementRef}]}],collapsedItems:[{type:o.ViewChild,args:["collapsedItems",{read:o.ElementRef}]}],toggle:[{type:o.ViewChild,args:["toggle",{read:o.ElementRef}]}],panel:[{type:o.ViewChild,args:["panel"]}]},e}(),F=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e.decorators=[{type:o.NgModule,args:[{imports:[n.CommonModule,V,I],declarations:[z],exports:[z]}]}],e}(),$=function(){function e(){this.placeholderText="Search...",this.filterChangeDelayms=200,this.itemSelected=new o.EventEmitter,this.itemUnselected=new o.EventEmitter,console.log("Warning this component is still under heavy development."),console.log("It isn't completely functional yet and is subject to change.")}return Object.defineProperty(e.prototype,"choices",{get:function(){return this.selectionItems.filter(function(e){return!e.selected})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selections",{get:function(){return this.selectionItems.filter(function(e){return e.selected})},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var t=this;g.fromEvent(this.filterInput.nativeElement,"keyup").pipe(b.map(function(e){return e.target.value}),b.debounceTime(this.filterChangeDelayms),b.distinctUntilChanged()).subscribe(function(e){return t.filterItems(e)}),this.selectionItems||(this.selectionItems=[{text:"Name",payload:{},selected:!1},{text:"Position",payload:{},selected:!1},{text:"Year of Birth",payload:{},selected:!1},{text:"Rookie Season",payload:{},selected:!1},{text:"Height",payload:{},selected:!1},{text:"Weight",payload:{},selected:!1},{text:"Forty Time",payload:{},selected:!1},{text:"Bench Weight",payload:{},selected:!1},{text:"Vertical Jump",payload:{},selected:!1},{text:"Broad Jump",payload:{},selected:!1},{text:"Shuttle Time",payload:{},selected:!1},{text:"Cone Time",payload:{},selected:!1},{text:"Draft Position",payload:{},selected:!1},{text:"College",payload:{},selected:!1},{text:"College Division",payload:{},selected:!1},{text:"Current Team",payload:{},selected:!1}]),this.selections.push(this.choices[1])},e.prototype.onChoiceClicked=function(e){e.selected=!0,this.itemSelected.emit(e)},e.prototype.onSelectionClicked=function(e){e.selected=!1,this.itemUnselected.emit(e)},e.prototype.filterItems=function(e){console.log(e)},e.decorators=[{type:o.Component,args:[{selector:"div[bb-multi-select]",template:'<input class="selections-filter" #filter [attr.placeholder]="placeholderText"/>\n<div class="container-labels">\n    <span>Items</span><span>Selected</span>\n</div>\n<div class="selections-container">\n    <div class="choices">\n        <ul>\n            <li *ngFor="let choice of choices">\n                <a (click)="onChoiceClicked(choice)">{{choice.text}}</a>\n            </li>\n        </ul>\n    </div>\n    <div class="selections">\n        <ul>\n            <li *ngFor="let selection of selections">\n                <a (click)="onSelectionClicked(selection)">{{selection.text}}</a>\n            </li>\n        </ul>\n    </div>\n</div>',styles:[":host div{display:flex;flex-direction:column}input.selections-filter{justify-content:center}div.container-labels,div.selections-container{width:inherit;display:flex;flex-direction:row;justify-content:space-between}.selections-container ul{padding-left:0}.choices ul,.selections ul{list-style:none}div.container-labels{border-bottom:1px solid #000}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={placeholderText:[{type:o.Input}],filterChangeDelayms:[{type:o.Input}],selectionItems:[{type:o.Input}],filterInput:[{type:o.ViewChild,args:["filter"]}],itemSelected:[{type:o.Output}],itemUnselected:[{type:o.Output}]},e}(),W=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e.decorators=[{type:o.NgModule,args:[{imports:[n.CommonModule],declarations:[$],exports:[$]}]}],e}();function Y(e){e&&!e.closed&&e.unsubscribe()}var U=function(){function e(){}return e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[]},e}(),X=function(){function e(e,t){this.dndService=e,this.templateRef=t,this.dragStartedOnView=new o.EventEmitter,this.dragEndedOnView=new o.EventEmitter,this._isBeingDragged=!1,this.context=new q}return Object.defineProperty(e.prototype,"isBeingDragged",{get:function(){return this._isBeingDragged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"draggableTemplateRef",{get:function(){return this.templateRef},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDragged",{set:function(e){this._isBeingDragged=e,this._isBeingDragged},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){Y(this.dragStartSubscription),Y(this.dragEndSubscription)},e.prototype.registerDragAndDropEvents=function(e){var r=this,t=(this.draggableViewRef=e).rootNodes[0];t.setAttribute("draggable","true"),this.dragStartSubscription=g.fromEvent(t,"dragstart").subscribe(function(e){e.dataTransfer.setData("bb/dnd","bbdraggable");var t=e.srcElement.getBoundingClientRect(),n=t.top+t.height/2,i=t.left+t.width/2;console.log(i,n);var o={view:r.draggableViewRef,mouseOffset:{offsetX:e.clientX-i,offsetY:e.clientY-n}};setTimeout(function(){r.dragStartedOnView.next(o)})},function(e){return console.log(e)},function(){}),this.dragEndSubscription=g.fromEvent(t,"dragend").subscribe(function(e){r.dragEndedOnView.next(r.draggableViewRef)},function(e){return console.log(e)},function(){})},e.decorators=[{type:o.Directive,args:[{selector:"[bbDraggable]"}]}],e.ctorParameters=function(){return[{type:U},{type:o.TemplateRef}]},e.propDecorators={dragStartedOnView:[{type:o.Output}],dragEndedOnView:[{type:o.Output}]},e}(),q=function(){this.implicit$=null},G=function(){function e(e,t){var l=this;this.dndService=e,this.hostElementRef=t,this.draggableEmbeddedViews=[],this.dragSubscriptions=[],this.DefaultDragLocationTarget={lowIndex:-1,highIndex:-1,viewBeingDragged:null},this.dragLocation=this.DefaultDragLocationTarget,this.initDraggable=function(e,t){var n=l.dndContainer.createEmbeddedView(e.draggableTemplateRef);l.draggableEmbeddedViews.push(n),e.registerDragAndDropEvents(n),l.dragSubscriptions.push(e.dragStartedOnView.subscribe(l.onDragStart)),l.dragSubscriptions.push(e.dragEndedOnView.subscribe(l.onDragEnd))},this.onDragStart=function(e){l.dragStartEvent=e,l.draggingMouseOffset=e.mouseOffset;var t=l.dndContainer.indexOf(e.view);l.dndContainer.detach(t),l.draggableEmbeddedViews.splice(t,1)},this.onDragEnd=function(e){},this.onDragEnter=function(e){console.log("dragenter"),e.dataTransfer.dropEffect="move",e.preventDefault()},this.onDragOver=function(o){console.log("dragover");var r=Number.MAX_SAFE_INTEGER,s=0,a=0;l.draggableEmbeddedViews.filter(function(e){return e!==l.dragStartEvent.view}).map(function(e){var t=e.rootNodes[0].getBoundingClientRect();return{view:e,x:t.left+t.width/2,y:t.top+t.height/2}}).forEach(function(e,t){var n=l.calculate1DimensionDistance(e.y,o.clientY+l.dragStartEvent.mouseOffset.offsetY);console.log(t+" = "+n+" y's: "+e.y+" - "+o.clientY+" + "+l.dragStartEvent.mouseOffset.offsetY);var i=Math.abs(n);i<r&&(r=i,e.view,s=t,a=n<0?s+1:s-1,l.dragLocation={lowIndex:Math.min(s,a),highIndex:Math.max(s,a),viewBeingDragged:l.dragStartEvent.view})}),o.preventDefault()},this.onDrop=function(e){l.dndContainer.insert(l.dragLocation.viewBeingDragged,l.dragLocation.highIndex),l.draggableEmbeddedViews.splice(l.dragLocation.highIndex,0,l.dragLocation.viewBeingDragged)},console.warn("BB Drag and Drop is still under development.")}return e.prototype.ngOnInit=function(){this.dragSubscriptions.push(g.fromEvent(this.hostElementRef.nativeElement,"dragenter").subscribe(this.onDragEnter)),this.dragSubscriptions.push(g.fromEvent(this.hostElementRef.nativeElement,"dragover").pipe(b.debounceTime(50)).subscribe(this.onDragOver)),this.dragSubscriptions.push(g.fromEvent(this.hostElementRef.nativeElement,"dragover").subscribe(function(e){return e.preventDefault()})),this.dragSubscriptions.push(g.fromEvent(this.hostElementRef.nativeElement,"drop").subscribe(this.onDrop))},e.prototype.ngAfterContentInit=function(){this.dragSubscriptions.push(this.draggablesQL.changes.subscribe(function(e){})),console.log("container"),console.log(this.dndContainer),this.draggablesQL.map(this.initDraggable)},e.prototype.ngOnDestroy=function(){this.dragSubscriptions.forEach(function(e){e.closed||e.unsubscribe()})},e.prototype.calculate1DimensionDistance=function(e,t){return e-t},e.prototype.calculate2DimensionDistance=function(e,t,n,i){return Math.sqrt(Math.pow(this.calculate1DimensionDistance(e,t),2)+Math.pow(this.calculate1DimensionDistance(n,i),2))},e.decorators=[{type:o.Component,args:[{selector:"[bbDnDContainer]",template:"<ng-container #dndContainer></ng-container>\n\n<ng-content></ng-content>\n",styles:[""]}]}],e.ctorParameters=function(){return[{type:U},{type:o.ElementRef}]},e.propDecorators={draggablesQL:[{type:o.ContentChildren,args:[X]}],dndContainer:[{type:o.ViewChild,args:["dndContainer",{read:o.ViewContainerRef}]}]},e}(),Q=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e.decorators=[{type:o.NgModule,args:[{imports:[n.CommonModule],declarations:[G,X],exports:[G,X],providers:[U]}]}],e}(),J=function(){function e(){this.activeTab="",this.tabsets={}}return e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[]},e}(),K=function(){function e(e,t,n){this.el=e,this.renderer=t,this.tabService=n,this.bbshowstart=new o.EventEmitter,this.bbshowend=new o.EventEmitter}return e.prototype.ngOnInit=function(){this.active&&(this.bbshowstart.emit(this.tabName),this.tabService.tabsets[this.tabset]={},this.setActive())},e.prototype.onClick=function(e){this.bbshowstart.emit(this.tabName),e.preventDefault(),this.setActive()},e.prototype.setActive=function(){var e=this.el.nativeElement.parentNode,t=this.el.nativeElement.children[0],n="none",i="none";if(e.hasAttribute("bbactiveclass")&&(n="parent",i=e.attributes.bbtarget.value),this.activeClass&&(n="tab"),t&&t.hasAttribute("bbactiveclass")&&(n="child"),"tab"===n){for(var o=0;o<e.children.length;o++)e.children[o].hasAttribute("bbtab")&&(this.renderer.setProperty(e.children[o],"bbactive",!1),this.renderer.removeClass(e.children[o],this.activeClass));this.renderer.setProperty(this.el.nativeElement,"bbactive",!0),this.renderer.addClass(this.el.nativeElement,this.activeClass)}else if("child"===n){var r=t.attributes.bbactiveclass.value;for(o=0;o<e.children.length;o++)e.children[o].hasAttribute("bbtab")&&(this.renderer.setProperty(e.children[o],"bbactive",!1),this.renderer.removeClass(e.children[o].children[0],r));this.renderer.setProperty(this.el.nativeElement,"bbactive",!0),this.renderer.addClass(t,r)}else if("parent"===n){var s=e.attributes.bbactiveclass.value;for(o=0;o<e.children.length;o++)e.children[o].hasAttribute("bbtab")&&(this.renderer.setProperty(e.children[o],"bbactive",!1),"tab"===i?this.renderer.removeClass(e.children[o],s):"child"===i&&this.renderer.removeClass(e.children[o].children[0],s));this.renderer.setProperty(this.el.nativeElement,"bbactive",!0),"tab"===i?this.renderer.addClass(this.el.nativeElement,s):"child"===i&&this.renderer.addClass(this.el.nativeElement.children[0],s)}else{for(o=0;o<e.children.length;o++)e.children[o].hasAttribute("bbtab")&&this.renderer.setProperty(e.children[o],"bbactive",!1);this.renderer.setProperty(this.el.nativeElement,"bbactive",!0)}this.tabService.tabsets[this.tabset].activeTab=this.tabName,this.bbshowend.emit(this.tabName)},e.decorators=[{type:o.Directive,args:[{selector:"[bbTab]"}]}],e.ctorParameters=function(){return[{type:o.ElementRef},{type:o.Renderer2},{type:J}]},e.propDecorators={tabName:[{type:o.Input,args:["bbtab"]}],tabset:[{type:o.Input,args:["bbtabset"]}],active:[{type:o.Input,args:["bbactive"]}],activeClass:[{type:o.Input,args:["bbactiveclass"]}],bbshowstart:[{type:o.Output}],bbshowend:[{type:o.Output}],onClick:[{type:o.HostListener,args:["click",["$event"]]}]},e}(),Z=function(){function e(e,t,n){this.el=e,this.renderer=t,this.tabService=n}return e.prototype.ngOnInit=function(){this.setVisibility()},e.prototype.ngDoCheck=function(){this.setVisibility()},e.prototype.setVisibility=function(){var e=this.tabService.tabsets[this.tabset].activeTab===this.name?"block":"none";this.renderer.setStyle(this.el.nativeElement,"display",e)},e.decorators=[{type:o.Directive,args:[{selector:"[bbTabContent]"}]}],e.ctorParameters=function(){return[{type:o.ElementRef},{type:o.Renderer2},{type:J}]},e.propDecorators={name:[{type:o.Input,args:["bbtabcontent"]}],tabset:[{type:o.Input,args:["bbtabset"]}]},e}(),ee=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[J]}},e.decorators=[{type:o.NgModule,args:[{imports:[n.CommonModule],declarations:[K,Z],exports:[K,Z]}]}],e}(),te=function(){function e(){this.dropzones=[]}return e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[]},e}(),ne=function(){function e(e,t,n){this.el=e,this.renderer=t,this.dndService=n,this.bbstart=new o.EventEmitter,this.bbend=new o.EventEmitter,e.nativeElement.draggable=!0,e.nativeElement.dragstart=this.dragstart,e.nativeElement.dragend=this.dragend}return e.prototype.ngOnInit=function(){this.bbdropperClass&&this.renderer.addClass(this.el.nativeElement,this.bbdropperClass)},e.prototype.dragstart=function(e){this.bbholdingClass!==undefined&&this.renderer.addClass(this.el.nativeElement,this.bbholdingClass),e.dataTransfer.setData("text/plain",this.bbpayload||null),this.dndService.el=this.el,this.bbdropperId&&this.bbstart.emit(this.bbdropperId)},e.prototype.dragend=function(){this.bbholdingClass!==undefined&&this.renderer.removeClass(this.el.nativeElement,this.bbholdingClass),this.bbdropperId&&this.bbstart.emit(this.bbdropperId)},e.decorators=[{type:o.Directive,args:[{selector:"[bbDropper]"}]}],e.ctorParameters=function(){return[{type:o.ElementRef},{type:o.Renderer2},{type:te}]},e.propDecorators={name:[{type:o.Input,args:["bbdropper"]}],bbdropperClass:[{type:o.Input,args:["bbdropperClass"]}],bbholdingClass:[{type:o.Input,args:["bbholdingClass"]}],bbpayload:[{type:o.Input,args:["bbpayload"]}],bbdropperId:[{type:o.Input,args:["bbdropperId"]}],bbstart:[{type:o.Output}],bbend:[{type:o.Output}],dragstart:[{type:o.HostListener,args:["dragstart",["$event"]]}],dragend:[{type:o.HostListener,args:["dragend"]}]},e}(),ie=function(){function e(e,t,n){this.el=e,this.dndService=t,this.renderer=n,this.bbdata=new o.EventEmitter,this.bbenter=new o.EventEmitter,this.bbleave=new o.EventEmitter,this.bbdrop=new o.EventEmitter}return e.prototype.ngOnInit=function(){this.bbdropzoneClass!==undefined&&this.renderer.addClass(this.el.nativeElement,this.bbdropzoneHoverClass),this.dndService.dropzones.includes(this.name)||this.dndService.dropzones.push(this.name)},e.prototype.dragover=function(e){e.preventDefault()},e.prototype.dragenter=function(){this.bbdropzoneHoverClass&&this.renderer.addClass(this.el.nativeElement,this.bbdropzoneHoverClass),this.bbdropzoneId&&this.bbenter.emit(this.bbdropzoneId)},e.prototype.dragleave=function(){this.bbdropzoneHoverClass&&this.renderer.removeClass(this.el.nativeElement,this.bbdropzoneHoverClass),this.bbdropzoneId&&this.bbleave.emit(this.bbdropzoneId)},e.prototype.drop=function(e){e.preventDefault(),this.renderer.removeClass(this.el.nativeElement,this.bbdropzoneHoverClass);var t=this.dndService.el.nativeElement;t.attributes.bbdropper.value===this.name&&(this.renderer.removeChild(this.dndService.el.nativeElement.parentNode,this.dndService.el.nativeElement),this.renderer.appendChild(this.el.nativeElement,this.dndService.el.nativeElement),t.attributes.bbpayload&&this.bbdata.emit(t.attributes.bbpayload.value)),this.bbdropzoneId&&this.bbdrop.emit(this.bbdropzoneId)},e.decorators=[{type:o.Directive,args:[{selector:"[bbDropZone]"}]}],e.ctorParameters=function(){return[{type:o.ElementRef},{type:te},{type:o.Renderer2}]},e.propDecorators={name:[{type:o.Input,args:["bbdropzone"]}],bbdropzoneClass:[{type:o.Input,args:["bbdropzoneClass"]}],bbdropzoneHoverClass:[{type:o.Input,args:["bbdropzoneHoverClass"]}],bbdropzoneId:[{type:o.Input,args:["bbdropzoneId"]}],bbdata:[{type:o.Output}],bbenter:[{type:o.Output}],bbleave:[{type:o.Output}],bbdrop:[{type:o.Output}],dragover:[{type:o.HostListener,args:["dragover",["$event"]]}],dragenter:[{type:o.HostListener,args:["dragenter"]}],dragleave:[{type:o.HostListener,args:["dragleave"]}],drop:[{type:o.HostListener,args:["drop",["$event"]]}]},e}(),oe=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[te]}},e.decorators=[{type:o.NgModule,args:[{imports:[n.CommonModule],declarations:[ne,ie],exports:[ne,ie]}]}],e}(),re=function(){function e(e,t){this.el=e,this.renderer=t,this.orderChanged=new o.EventEmitter,this.bbstart=new o.EventEmitter,this.bbend=new o.EventEmitter,this.bbenter=new o.EventEmitter,this.bbleave=new o.EventEmitter,this.bbdrop=new o.EventEmitter}return e.prototype.ngOnInit=function(){this.options||(this.options={})},e.prototype.ngAfterContentInit=function(){this.initChildren()},e.prototype.dragstart=function(e){e.dataTransfer.setData("text/plain",e.target.bbvalue||null),this.options.holdingClass!==undefined&&this.renderer.addClass(e.target,this.options.holdingClass),this.draggedItem=+e.target["bbsortable-index"],this.bbstart.emit(this.draggedItem)},e.prototype.dragend=function(e){this.options.holdingClass!==undefined&&this.renderer.removeClass(e.target,this.options.holdingClass),this.bbend.emit(this.draggedItem)},e.prototype.dragover=function(e){e.preventDefault()},e.prototype.dragenter=function(e){this.options.hoverClass!==undefined&&(e.target["bbsortable-name"]===this.name&&e.target["bbsortable-index"]!==this.draggedItem?this.renderer.addClass(e.target,this.options.hoverClass):this.updateDropzoneClass(e,this.options.hoverClass,!0)),this.bbenter.emit(+e.target["bbsortable-index"])},e.prototype.dragleave=function(e){this.options.hoverClass!==undefined&&(e.target["bbsortable-name"]===this.name&&e.target["bbsortable-index"]!==this.draggedItem?this.renderer.removeClass(e.target,this.options.hoverClass):this.updateDropzoneClass(e,this.options.hoverClass,!1)),this.bbleave.emit(+e.target["bbsortable-index"])},e.prototype.drop=function(e){e.preventDefault();var t=!1,n=e.target;if(n["bbsortable-name"]!==this.name)for(;null!==n.parentNode;){if(n.parentNode["bbsortable-name"]===this.name){n=n.parentNode,t=!0;break}n=n.parentNode}else t=!0;if(t){this.options.hoverClass!==undefined&&this.renderer.removeClass(n,this.options.hoverClass);var i=this.draggedItem,o=n["bbsortable-index"];if(o<i)for(var r=0;r<this.el.nativeElement.children.length;r++)o<=r&&r<i&&this.renderer.setProperty(this.el.nativeElement.children[r],"bbsortable-index",r+1),r===i&&this.renderer.setProperty(this.el.nativeElement.children[r],"bbsortable-index",o);else for(r=0;r<this.el.nativeElement.children.length;r++)i<r&&r<=o&&this.renderer.setProperty(this.el.nativeElement.children[r],"bbsortable-index",r-1),r===i&&this.renderer.setProperty(this.el.nativeElement.children[r],"bbsortable-index",o);this.bbdrop.emit(+o),this.orderChanged.emit({draggedItem:i,newPosition:o})}},e.prototype.initChildren=function(){for(var e=0;e<this.el.nativeElement.children.length;e++)this.renderer.setProperty(this.el.nativeElement.children[e],"draggable",!0),this.renderer.setProperty(this.el.nativeElement.children[e],"bbsortable-index",e),this.renderer.setProperty(this.el.nativeElement.children[e],"bbsortable-name",this.name),this.options.restingClass&&this.renderer.addClass(this.el.nativeElement.children[e],this.options.restingClass)},e.prototype.updateDropzoneClass=function(e,t,n){for(var i=e.target.parentNode;null!==i;){if(i["bbsortable-name"]===this.name&&i["bbsortable-index"]!==this.draggedItem){n&&!i.classList.contains(t)?this.renderer.addClass(i,t):this.renderer.removeClass(i,t);break}i=i.parentNode}},e.decorators=[{type:o.Directive,args:[{selector:"[bbSortable]"}]}],e.ctorParameters=function(){return[{type:o.ElementRef},{type:o.Renderer2}]},e.propDecorators={name:[{type:o.Input,args:["bbsortable"]}],options:[{type:o.Input,args:["bboptions"]}],orderChanged:[{type:o.Output}],bbstart:[{type:o.Output}],bbend:[{type:o.Output}],bbenter:[{type:o.Output}],bbleave:[{type:o.Output}],bbdrop:[{type:o.Output}],dragstart:[{type:o.HostListener,args:["dragstart",["$event"]]}],dragend:[{type:o.HostListener,args:["dragend",["$event"]]}],dragover:[{type:o.HostListener,args:["dragover",["$event"]]}],dragenter:[{type:o.HostListener,args:["dragenter",["$event"]]}],dragleave:[{type:o.HostListener,args:["dragleave",["$event"]]}],drop:[{type:o.HostListener,args:["drop",["$event"]]}]},e}(),se=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e.decorators=[{type:o.NgModule,args:[{imports:[n.CommonModule],declarations:[re],exports:[re]}]}],e}(),ae=[I,O,x,T,_,F,W,V,Q,ee,oe,se],le=function(){function e(){}return e.decorators=[{type:o.NgModule,args:[{imports:[I.forRoot(),O.forRoot(),x.forRoot(),T.forRoot(),_.forRoot(),F.forRoot(),W.forRoot(),V.forRoot(),Q.forRoot(),ee.forRoot(),oe.forRoot(),se.forRoot()],exports:ae}]}],e}(),ce=function(){function e(){}return e.forRoot=function(){return{ngModule:le,providers:[]}},e.decorators=[{type:o.NgModule,args:[{imports:ae,exports:ae}]}],e}();e.AltPanelState1Animation=i,e.AltPanelState2Animation=r,e.BBAlternatingPanelComponent=s,e.BBAlternatingPanelDirective=c,e.BBAlternatingPanelModule=p,e.BBSlidingPanelModule=I,e.BBSlidingPanel=S,e.BBSlidingPanelToggle=E,e.BBDropdownMenuModule=O,e.BBDropdownMenu=w,e.BBSlideoutMenuModule=x,e.BBSlideoutMenu=D,e.BBDropdownInputModule=T,e.BBDropdownInputServiceToken=R,e.BBDropdownInput=P,e.BBHamburgerMenuModule=_,e.BBHamburgerMenu=j,e.BBCollapsingMenuModule=F,e.BBCollapsingMenu=z,e.BBMultiSelectComponent=$,e.BBMultiSelectModule=W,e.BBCommonModule=V,e.BBMenuItem=H,e.closeSubscription=Y,e.BBDragAndDropContainerComponent=G,e.BBDraggableDirective=X,e.DraggableContext=q,e.BBDragAndDropComponentModule=Q,e.TabService=J,e.BBTabModule=ee,e.DragAndDropService=te,e.BBDragAndDropModule=oe,e.BBSortableModule=se,e.BBStateCssMapperService=a,e.BBAnimationStatesService=l,e.BBRootModule=le,e.BearBonesModule=ce,e.a=d,e.j=U,e.n=ie,e.m=ne,e.g=M,e.h=A,e.f=B,e.e=L,e.i=N,e.c=C,e.b=y,e.d=u,e.o=re,e.l=Z,e.k=K,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=uat-bearbones.umd.min.js.map